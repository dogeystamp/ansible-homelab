---
hypervisors:
  hosts:
    urbs:
      ansible_host: 192.168.0.5
      nftables_preset: "bastion"
      nftables_external_listens_tcp:
        - 80
        - 443
        - 2499


# Virtual machines
domains:
  hosts:
    # caupo:
    #   ansible_host: 10.55.55.2
    #   libvirt_mac_address: "52:54:00:00:00:02"
    #   libvirt_memory_mib: 1024
    #   libvirt_clean_image: "/disk/stat/vm/debian-13-nocloud-arm64_expanded.qcow2" # 512G image
    #   nftables_preset: "service"

    janua:
      ansible_host: 10.55.55.3
      libvirt_mac_address: "52:54:00:00:00:03"
      libvirt_memory_mib: 512
      libvirt_clean_image: "/disk/stat/vm/debian-13-nocloud-arm64.qcow2"
      nftables_preset: "service"
      nftables_internal_listens_udp:
        - 53
      nftables_internal_listens_tcp:
        - 8080  # http  (internally exposed)
        - 8443  # https (internally exposed)

    oriens:
      ansible_host: 10.55.55.4
      libvirt_mac_address: "52:54:00:00:00:04"
      libvirt_memory_mib: 768
      libvirt_clean_image: "/disk/stat/vm/debian-13-nocloud-arm64.qcow2"
      nftables_preset: "service"
      nftables_internal_listens_tcp:
        - 8001 # xandikos

    harena-ii:
      ansible_host: 10.55.55.5
      libvirt_mac_address: "52:54:00:00:00:05"
      libvirt_memory_mib: 368
      libvirt_enable_vmdisk: true
      libvirt_clean_image: "/disk/stat/vm/debian-13-nocloud-arm64.qcow2"
      nftables_preset: "service"


# Categories of services

ingress:
  hosts:
    janua:

# xandikos:
#   hosts:
#     oriens:

haproxy:
  hosts:
    urbs:

borg_client:
  hosts:

# borg_server:
#   hosts:
#     caupo:
